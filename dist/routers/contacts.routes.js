"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.contactsRoutes = void 0;
const express_1 = require("express");
const checkTokenMiddleware_1 = require("../middlewares/checkTokenMiddleware");
const checkValidDataMiddleware_1 = require("../middlewares/checkValidDataMiddleware");
const contactsSchema_1 = require("../schemas/contactsSchema");
const checkValidContactMiddleware_1 = require("../middlewares/checkValidContactMiddleware");
const contactController_1 = require("../controllers/contactController");
const checkUserOwnerMiddleware_1 = require("../middlewares/checkUserOwnerMiddleware");
exports.contactsRoutes = (0, express_1.Router)();
exports.contactsRoutes.use(checkTokenMiddleware_1.checkTokenMiddleware);
exports.contactsRoutes.post("", (0, checkValidDataMiddleware_1.checkValidDataMiddleware)(contactsSchema_1.contactSchema), checkValidContactMiddleware_1.checkValidContactMiddleware, contactController_1.createNewContactController);
exports.contactsRoutes.get("", contactController_1.getAllContactsController);
exports.contactsRoutes.patch("/:id", checkUserOwnerMiddleware_1.checkUserOwnerMiddleware, (0, checkValidDataMiddleware_1.checkValidDataMiddleware)(contactsSchema_1.updateContactSchema), checkValidContactMiddleware_1.checkValidContactMiddleware, contactController_1.patchContactController);
exports.contactsRoutes.delete("/:id", checkUserOwnerMiddleware_1.checkUserOwnerMiddleware, contactController_1.deleteContactController);
